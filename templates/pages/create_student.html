{% extends "base.html" %} 

{% block title %} 
  {% if edit %}Edit Student{% else %}Add Student{% endif %} 
{% endblock %} 

{% block extra_css %}
<style>
  .forms-sample label {
    color: #000000ff;
    font-weight: bold;
  }
  .forms-sample input::placeholder,
  .forms-sample select {
    color: #888888;
    font-style: italic;
  }
  .forms-sample label[for="id_name"] {
    color: #000000ff;
  }
  .card {
    padding: 20px;
  }
  .text-danger {
    font-size: 0.875rem;
  }
</style>
{% endblock %} 

{% block content %}
<div class="page-header">
  <h3 class="page-title">
    {% if edit %}Edit Student{% else %}Add Student{% endif %}
  </h3>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="#">Forms</a></li>
      <li class="breadcrumb-item active" aria-current="page">
        {% if edit %}Edit Student{% else %}Add Student{% endif %}
      </li>
    </ol>
  </nav>
</div>

<div class="row justify-content-center">
  <div class="col-md-6 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">
          {% if edit %}Update Student{% else %}Student Form{% endif %}
        </h4>
        <p class="card-description">
          {% if edit %}Update student details{% else %}Fill out student details{% endif %}
        </p>

        {% if credentials %}
        <div class="alert alert-success mt-3">
          <h5>Student Account Created!</h5>
          <p>Use the following credentials to log in:</p>
          <ul>
            <li>Username: <strong>{{ credentials.username }}</strong></li>
            <li>Password: <strong>{{ credentials.password }}</strong></li>
          </ul>
        </div>
        {% endif %}

        <form class="forms-sample" method="post">
          {% csrf_token %}

          <div class="form-group">
            <label for="{{ form.name.id_for_label }}">Name</label>
            {{ form.name }} 
            {% if form.name.errors %}
              <div class="text-danger">{{ form.name.errors }}</div>
            {% endif %}
          </div>

          <div class="form-group">
            <label for="{{ form.age.id_for_label }}">Age</label>
            {{ form.age }} 
            {% if form.age.errors %}
              <div class="text-danger">{{ form.age.errors }}</div>
            {% endif %}
          </div>

          <div class="form-group">
            <label for="{{ form.email.id_for_label }}">Email</label>
            {{ form.email }} 
            {% if form.email.errors %}
              <div class="text-danger">{{ form.email.errors }}</div>
            {% endif %}
          </div>

          <div class="form-group">
            <label for="{{ form.phone_number.id_for_label }}">Phone Number</label>
            {{ form.phone_number }} 
            {% if form.phone_number.errors %}
              <div class="text-danger">{{ form.phone_number.errors }}</div>
            {% endif %}
          </div>

          <div class="form-group">
            <label for="{{ form.date_of_birth.id_for_label }}">Date of Birth</label>
            {{ form.date_of_birth }} 
            {% if form.date_of_birth.errors %}
              <div class="text-danger">{{ form.date_of_birth.errors }}</div>
            {% endif %}
          </div>

          <button type="submit" class="btn btn-primary mr-2">
            {% if edit %}Update{% else %}Save{% endif %}
          </button>
          <a href="{% url 'student_list' %}" class="btn btn-light">Back to list</a>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
